#!perl -w
use strict;
use Pod::PseudoPod::LaTeX 1.101650;

print <<'HEADER';
\documentclass[11pt,a4paper,oneside]{report}
\usepackage{graphics,graphicx}
\usepackage{colortbl}
\usepackage{fancybox}
\usepackage{fancyvrb}
\usepackage[T1]{fontenc}
\usepackage{bera}
\usepackage[utf8]{inputenc}
\usepackage{makeidx}
\usepackage[colorlinks=true,pagebackref]{hyperref}

% shadowbox
\newsavebox{\sidebarcontent}
\newenvironment{sidebar}[1][]{\begin{lrbox}{\sidebarcontent}\begin{minipage}{3.5in}\sloppy
\ifx\relax#1\else\centerline{\large\bfseries #1}\par\fi}
{\end{minipage}\end{lrbox}\begin{center}\shadowbox{\usebox{\sidebarcontent}}\end{center}}

\makeindex

\title{Using Perl~6}
\author{Jonathan S. Duff, Moritz Lenz, Carl MÃ¤sak, Patrick R. Michaud, Jonathan Worthington}
 
\begin{document}

\maketitle

\tableofcontents
HEADER

for (@ARGV) {
    my $parser = Pod::PseudoPod::LaTeX->new();
    $parser->emit_environments( sidebar => "sidebar" );
    $parser->codes_in_verbatim(1);
    $parser->output_fh( *STDOUT );
    $parser->parse_file( $_ );
}

print <<'FOOTER';

\printindex

\end{document}
FOOTER
